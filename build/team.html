<html>
    <head>
        <style>
            ul {
                list-style-type: none;
            }
            ul li {
                float: left;
                position: relative;
                width: 150px;
                margin-left: -80px;
                transition: all 200ms linear;
            }
            ul li img {
                width: 100%;
                -webkit-filter: grayscale(100%);
                -moz-filter: grayscale(100%);
                -o-filter: grayscale(100%);
                -ms-filter: grayscale(100%);
                filter: grayscale(100%);
                transition: all 200ms linear;
            }
            ul li.front {
                width: 160px;
                margin-left: -85px;
            }
            ul li.front img {
                -webkit-filter: grayscale(0);
                -moz-filter: grayscale(0);
                -o-filter: grayscale(0);
                -ms-filter: grayscale(0);
                filter: grayscale(0);
            }
            .mask {
                height: 200px;
                background-color: #fff;
                position: absolute;
                width: 100%;
                top: 236px;
                z-index: 10;
            }
            ul li:first-child {
                margin-left: 0;
            }
            ul li.front:first-child {
                margin-left: -5px;
            }
        </style>
    </head>
    <body>
        <ul>
            <li style="z-index: 1" data-idx="0"><img src="/assets/i/team/igors.png" alt=""></li>
            <li style="z-index: 2" data-idx="1"><img src="/assets/i/team/elvijs.png" alt=""></li>
            <li style="z-index: 3" data-idx="2"><img src="/assets/i/team/romans.png" alt=""></li>
            <li style="z-index: 4" data-idx="3"><img src="/assets/i/team/karolina.png" alt=""></li>
            <li style="z-index: 5" data-idx="4" class="front"><img src="/assets/i/team/arturs.png" alt=""></li>
            <li style="z-index: 4" data-idx="5"><img src="/assets/i/team/agris.png" alt=""></li>
            <li style="z-index: 3" data-idx="6"><img src="/assets/i/team/aivis.png" alt=""></li>
            <li style="z-index: 2" data-idx="7"><img src="/assets/i/team/aleksandrs.png" alt=""></li>
            <li style="z-index: 1" data-idx="8"><img src="/assets/i/team/artursB.png" alt=""></li>
            <li style="z-index: 0" data-idx="9"><img src="/assets/i/team/chalis.png" alt=""></li>
        </ul>
        <div class="mask"></div>

        <script>
            let ul = document.querySelector('ul');
            let lis = ul.getElementsByTagName('li');
            const mid = parseInt(document.querySelector('li.front').getAttribute('data-idx'));
            ul.addEventListener('mouseover', function (event) {
                let li = event.target.parentNode;
                if ( ! li.classList.contains('front')) {
                    let old = document.querySelector('li.front');
                    old.classList.remove('front');

                    let curIdx = parseInt(li.getAttribute('data-idx'));

                    if (curIdx >= mid) {
                        let newIdx = 0;
                        for (let elIdx = 0; elIdx < lis.length; elIdx++) {
                            lis[elIdx].style.zIndex = newIdx;
                            if (elIdx >= curIdx) {
                                newIdx--;
                            } else {
                                newIdx++;
                            }
                        }
                    } else {
                        let newIdx = 0;
                        for (let elIdx = lis.length - 1; elIdx >= 0; elIdx--) {
                            lis[elIdx].style.zIndex = newIdx;
                            if (elIdx <= curIdx) {
                                newIdx--;
                            } else {
                                newIdx++;
                            }
                        }
                    }

                    li.classList.add('front');
                }
            });
        </script>
    </body>
</html>